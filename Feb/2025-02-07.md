# TIL Template

## 날짜: 2025-02-07

### 스크럼
- 학습 목표 1 : 정적라우팅과 동적라우팅 실습(딥다이브)

### 새로 배운 내용
#### 주제 1: Static Route
-> 네트워크 관리자가 라우팅 경로를 직접 설정<br>

**명령어**) 
- 글로벌 또는 인터페이스 모드에서 가능
```
ip route [목적지 네트워크 주소] [목적지 서브넷 마스크] [출력 인터페이스 또는 상대 IP 주소]
```
예시)
```Router0
Router> enable
Router# config terminal
Router(config)# ip route 203.237.20.0 255.255.255.0 se0/3/0  # 회선을 통한 경로
Router(config)# ip route 203.237.30.0 255.255.255.0 2.2.2.2  # IP를 통한 경로
Router(config)# ip route 3.3.3.0 255.255.255.252 1.1.1.2     #IP를 통한 경로

Router> show ip route
```
=> 목적지 네트워크 주소에 대해 라우팅 경로를 직접 선언 (글로벌 또는 인터페이스 모드에서 가능)

#### 주제 2: OSPF(Open Shortest Path First) 프로토콜

-> 링크 상태 정보를 모든 라우터에 전달하여 최단 경로 트리를 구성하는 `Link State Routing 프로토콜` 
- `다익스트라 알고리즘` 사용(**S**hortest **P**ath **F**irst): 이전 경로를 기억하면서 최단 경로를 계속 갱신시키는 알고리즘
- `Link State 알고리즘`: 거리 벡터 방식이 아닌 링크 상태 정보를 기반한 최적 경로 선택(단순히 거리만 고려하는 것이 아니라 Delay, Bandwidth와 같은 링크 비용을 종합적으로 고려)
- `Classless` 특징을 가짐: IP Class 상관없이 서브넷 마스크를 고려하여 계산하는 특징
	- Classful 방식은 클래스를 인식하여 클래스에 맞게 자동 서머라이제이션을 진행함
	- 서머라이제이션: 여러 네트워크를 하나의 네트워크로 요약하는 것.(192.168.1.0/24, 192.168.2.0/24 => 192.168.0.0/16)
	- Classless에서는 자동으로 서머라이제이션을 하지 않음(필요 시에만 수동으로 함)
- SPF 알고리즘을 사용하여 메트릭을 계산
- 멀티캐스트 주소 사용: 224.0.0.5(모든 OSPF 라우터)와 224.0.0.6(**D**esingated **R**outer) 멀티캐스트 주소 사용
- 반드시 Backbone Area(Area0)를 중심으로 구성되어야 됨 (모든 Area는 반드시 Area0을 거쳐서 서로에게 이동)

#### 주제 3: BGP(Border Gateway Protocol)
-> AS(Autonomous System, 자율시스템) 간의 경로 정보를 교환하는 프로토콜
- AS: 하나의 기관이 운영하는 라우터(네트워크) 그룹으로 고유한 번호를 가짐
	- 고유번호는 [IANA](https://ko.wikipedia.org/wiki/IANA)에서 부여 받음
- ISP 간의 라우팅을 담당하는 유일한 EGP(Exterior Gateway Protocol)(외부라우팅)
- 대규모 네트워크에서 사용
- `경로 벡터 방식`을 사용: 네트워크 경로를 AS 번호의 연속으로 나타내며, AS Path 정보를 기반으로 최적의 경로를 선택
- TCP를 사용하여 신뢰성 ↑
- 안정성을 최우선으로 하기 때문에 일반적인 IGP(내부라우팅)보다 수렴 속도가 느림
- 다양한 속성을 기반으로 최적의 경로를 선택

##### 동작 방식
	1) 다른 BGP 라우터와 피어(Neighbor) 관계를 형성
	2) BGP 피어 관계를 수동으로 설정(자동 X)
	3) Keepalive 메세지를 주기적으로 주고받아 피어 상태를 유지
	4) 다양한 속성을 기반
##### eBGP(외부 BGP)와 iBGP(내부 BGP)
- eBGP: 서로 다른 AS 간의 BGP를 사용하는 방식
	- ISP 간의 라우팅이나, 기업 네트워크와 ISP 간의 연결에 사용
- iBGP: 동일한 AS 내부에서 BGP를 사용하는 방식
	- 대형 네트워크에서 BGP 라우팅 정보를 내부적으로 전달할 때 사용

### 오늘의 도전 과제와 해결 방법
- 도전 과제 1: OSFP 프로토콜 패킷트레이서로 실습해보기

    해결방법)
    OSFP는 라우터를 area를 기준으로 구분한다. 따라서 라우터마다 area를 선언하고, 연결되는 area를 추가로 선언하게 되면 자동으로 연결되어 통신이 가능하게 된다. 이것이 OSFP 프로토콜, 동적 라우팅이다.


### 오늘의 회고
- 딥다이브 시간에 시간 관계상 실습을 정해진 실습을 다 하지 못하였다. 내일 과제를 하고 남는 시간에 못한 실습을 이어서 하려고 한다.

### 참고 자료 및 링크
- X
