# TIL Template

## 날짜: 2025-02-18

### 스크럼
- 학습 목표 1 : 정리 못한 쿠버네티스 개념 정리하기

### 새로 배운 내용
#### 주제 1: Pod의 헬스체크 기능(Probe)
`Probe`: `kubelet`에서 컨테이너의 상태를 검사하는 매커니즘
=> 기존 로드밸런서와 달리 

- `활성 프로브`(Liveness Probe) : 컨테이너가 **정상**적으로 실행 중인지 **확인**하고 문제가 생기면 **자동으로 복구**하는 기능
	- 프로브 검사에 실패하당 해당 컨테이너는 강제 종료되고 쿠버네티스는 자동으로 재시작
	- 활성 프로브를 설정하지 않으면, 어플리케이션이 응답하지 않더라도 컨테이너가 계속 유지될 수 있음
- `준비 상태 프로브`(Readiness Probe) : **컨테이너** 내부 어플리케이션이 트래픽을 받을 **준비**가 되었는지 **확인**하는 기능
	- 검사에 실패하면 해당 Pod를 로드밸런서에서 제외하여, 서비스에서 트래픽을 못보내게 함
	- 어플리케이션이 초기화 되는게 시간이 걸릴 경우에 유용

#### 주제 2. 사이드카 패턴
=> 하나의 Pod 안에서 보조 컨테이너를 함께 실행하는 설계 방식
- ex) 웹 서버 컨테이너(**메인**)와 최신 콘텐츠를 깃헙에서 다운받는 컨테니어(**보조**)의 조합
- 어플리케이션 변경 없이, 사이드카를 붙였다 떼거나 교체하기가 쉬운 구성방식임
- 메인과 사이드카(보조) 컨테이너가 같은 Pod 안에 있기 때문에 리소스를 적절히 설정하여, 서로 간의 **의존성 관리**가 **필요**함

#### 주제 3. Delopyment의 버전 변경 전략
1) 재생성 전략(`Recreate`)
	- 디플로이먼트와 관련된 모든 포드를 중지하고, 새로운 버전의 포드를 생성하는 전략
	- **빠르고 간편**하지만, 서비스 **다운타임**이 **발생**
	- 다운타임이 허용되는 테스트 배포에 적합
2) 롤링업데이트 전략(`RollingUpdate`)
	- 모든 Pod를 한 번에 업데이트 하는게 아닌, 일정 수로 나누어 업데이트 하는 방식의 전략
	- 다운타임 X
	- recreate 전략보다 느리지만, 정교하고 **안정적**
	- 업데이트 중에 버전 차이로 인한 서비스 중단이 발생하지 않도록 해야됨

### 오늘의 도전 과제와 해결 방법
- 도전 과제 1: EC2에 미니쿠베 세팅

### 오늘의 회고
- 이번 주에 자취방 이사 때문에 저녁에 거의 못했다. 그래도 개념 정리를 다해서 내일부터는 실습을 할 수 있을 것 같다. 저녁에 또 이사정리 마무리 해야해서 공부할 시간이 많이 없어, 할 때 집중해서 해야겠다

### 참고 자료 및 링크
- X